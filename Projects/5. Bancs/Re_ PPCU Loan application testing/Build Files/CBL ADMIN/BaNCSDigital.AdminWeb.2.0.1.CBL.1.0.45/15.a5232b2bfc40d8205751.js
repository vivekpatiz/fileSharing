(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{JEg8:function(e,r,t){"use strict";var s=t("amfQ"),a=t("cLEV"),i=t("aR35"),o=function(){function e(){this.appConfig=i.a.getInstance().getMasterConfig(),this.recordControl={version:"RecordControl_1.0.0",maxRecordLimit:10},this.serviceHandler=new s.a}return e.prototype.createSecureMessageInboxRequest=function(){return this.serviceHandler.getRequestEnvelope(this.appConfig.SERVICE.REQUEST_MODEL.DATA_ENTITY.SecureMessageInboxRequest)},e.prototype.sendSecureMessageInboxRequest=function(e,r){return void 0===r&&(r=this.appConfig.COMMUNICATION.SERVICE.ENDPOINTS.MODULE),this.serviceHandler.send(e,r)},e.prototype.createRecordControl=function(){return this.serviceHandler.getRequestEntity(this.recordControl)},e.prototype.createRecordControlWithDynamicModel=function(e){return this.serviceHandler.getRequestEntity(e)},e.prototype.createAndFilters=function(){return this.serviceHandler.getFilterStructure(this.appConfig.SERVICE.REQUEST_MODEL.FILTERS.AndFilter)},e.prototype.createDigiCorrespondenceCorsIdFilter=function(){return this.serviceHandler.getFilterStructure(this.appConfig.SERVICE.REQUEST_MODEL.FILTERS.DigiCorrespondenceCorsIdFilter)},e.prototype.createDigiCorrespondenceSubjectFilter=function(){return this.serviceHandler.getFilterStructure(this.appConfig.SERVICE.REQUEST_MODEL.FILTERS.DigiCorrespondenceSubjectFilter)},e.prototype.createDigiCorrespondenceSenderNameFilter=function(){return this.serviceHandler.getFilterStructure(this.appConfig.SERVICE.REQUEST_MODEL.FILTERS.DigiCorrespondenceSenderNameFilter)},e.prototype.createDigiCorrespondenceSenderIdFilter=function(){return this.serviceHandler.getFilterStructure(this.appConfig.SERVICE.REQUEST_MODEL.FILTERS.DigiCorrespondenceSenderIdFilter)},e.prototype.createDigiCorrespondenceDateTimeFilter=function(){return this.serviceHandler.getFilterStructure(this.appConfig.SERVICE.REQUEST_MODEL.FILTERS.DigiCorrespondenceDateTimeFilter)},e.prototype.createDigiCorrespondenceReceiverIdFilter=function(){return this.serviceHandler.getFilterStructure(this.appConfig.SERVICE.REQUEST_MODEL.FILTERS.DigiCorrespondenceReceiverIdFilter)},e.prototype.createDigiCorrespondenceAssignFilter=function(){return this.serviceHandler.getFilterStructure(this.appConfig.SERVICE.REQUEST_MODEL.FILTERS.DigiCorrespondenceAssignFilter)},e.prototype.createBusinessSecureMsgCifFilter=function(){return this.serviceHandler.getFilterStructure(this.appConfig.SERVICE.REQUEST_MODEL.FILTERS.BusinessSecureMsgCifFilter)},e}(),n=function(){function e(){this.appConfig=i.a.getInstance().getMasterConfig(),this.serviceHandler=new s.a}return e.prototype.createSecureMessageInboxDetailRequest=function(){return this.serviceHandler.getRequestEnvelope(this.appConfig.SERVICE.REQUEST_MODEL.DATA_ENTITY.SecureMessageInboxDetailRequest)},e.prototype.sendSecureMessageInboxDetailRequest=function(e,r){return void 0===r&&(r=this.appConfig.COMMUNICATION.SERVICE.ENDPOINTS.MODULE),this.serviceHandler.send(e,r)},e}(),u=function(){function e(){this.appConfig=i.a.getInstance().getMasterConfig(),this.serviceHandler=new s.a}return e.prototype.createSecureMessageReadConfirmRequest=function(){return this.serviceHandler.getRequestEnvelope(this.appConfig.SERVICE.REQUEST_MODEL.DATA_ENTITY.SecureMessageConfirmRead)},e.prototype.sendSecureMessageReadConfirmRequest=function(e){return this.serviceHandler.send(e,this.appConfig.COMMUNICATION.SERVICE.ENDPOINTS.MODULE)},e}(),d=function(){function e(){this.appConfig=i.a.getInstance().getMasterConfig(),this.serviceHandler=new s.a}return e.prototype.createSecureMessageReadRequest=function(){return this.serviceHandler.getRequestEnvelope(this.appConfig.SERVICE.REQUEST_MODEL.DATA_ENTITY.SecureMessageRead)},e.prototype.sendSecureMessageReadRequest=function(e){return this.serviceHandler.send(e,this.appConfig.COMMUNICATION.SERVICE.ENDPOINTS.MODULE)},e}(),c=t("UQqR");t.d(r,"a",function(){return m});var m=function(){function e(){this.serviceHandler=new s.a,this.utils=c.a.getInstance()}return e.prototype.getSecureMessageInboxData=function(e,r,t,s){void 0===e&&(e=""),void 0===s&&(s=this.utils.getActionUIID("COMMON_INBOX").uiid);var i,n=new o,u=n.createSecureMessageInboxRequest(),d=n.createRecordControl();if(d=this.setRecordControlData(d,10),u.getPayload().recordControl=d,u.uiidomain.uiidId=s,i={version:"RecordControl_1.0.0",maxRecordLimit:10,cursor:{version:"Cursor_1.0.0",cursorData:{data:"",version:"Binary_1.0.0"}}},e?(i.maxRecordLimit=10,i.cursor.cursorData.data=btoa(e)):i={version:"RecordControl_1.0.0",maxRecordLimit:10},u.getPayload().recordControl=n.createRecordControlWithDynamicModel(i),u.getPayload().setOperation("INQ"),t){var c,m=n.createAndFilters();if(m.filters=[],t.from&&((c=n.createDigiCorrespondenceSenderNameFilter()).value=t.from,c.operator="EQUAL",m.filters.push(c)),t.date){var p=this.utils.getDateObject(t.date),h=n.createDigiCorrespondenceDateTimeFilter();h.value.day=p.day,h.value.year=p.year,h.value.month=p.month,h.operator="EQUAL",m.filters.push(h)}if(t.status){var f=n.createDigiCorrespondenceAssignFilter();f.value=t.status.Description,f.operator="EQUAL",m.filters.push(f)}if(t.id){var l=n.createDigiCorrespondenceCorsIdFilter();l.value=t.id,l.operator="EQUAL",m.filters.push(l)}if(t.subject){var g=n.createDigiCorrespondenceSubjectFilter();g.value=t.subject,g.operator="EQUAL",m.filters.push(g)}if(t.cif){var I=n.createBusinessSecureMsgCifFilter();I.version="CustomerIdentifierFilter_1.0.0",I.value=t.cif,I.operator="CONTAINS",m.filters.push(I)}t.userID&&((c=n.createDigiCorrespondenceSenderIdFilter()).value=t.userID,c.operator="EQUAL",m.filters.push(c)),u.getPayload().setFilter(m)}return n.sendSecureMessageInboxRequest(u).map(function(e){return e.error?e:(new a.a).mapSecureMessageListData(e.getPayload().getDataEntity(),r,"inbox",e.getPayload().recordControl)})},e.prototype.setRecordControlData=function(e,r,t){return void 0===t&&(t=""),""!=t?(e.maxRecordLimit=r,e.cursor.cursorData.data=btoa(t)):e={version:"RecordControl_1.0.0",maxRecordLimit:r},e},e.prototype.getSecureMessageInboxDetail=function(e,r){void 0===r&&(r=this.utils.getActionUIID("COMMON_INBOX_DETAILS").uiid);var t=new n,s=t.createSecureMessageInboxDetailRequest(),i=s.getPayload().getDataEntity()[0];return i.header.conversationId.ID=e.conversationId,i.header.id.ID=e.correspondanceId,s.getPayload().setOperation("INQ"),s.uiidomain.uiidId=r,t.sendSecureMessageInboxDetailRequest(s).map(function(e){return e.error?e:(new a.a).mapSecureMessageDetailMapping(e.getPayload().getDataEntity())})},e.prototype.getSecureMessageReadConfirm=function(e){var r=new u,t=r.createSecureMessageReadConfirmRequest(),s=t.getPayload().getDataEntity()[0];return s.getDataEntity()[0].header.id.ID=e.correspondanceId,s.setOperation("UPD"),t.getPayload().setOperation("CNF"),t.uiidomain.uiidId="ON21",r.sendSecureMessageReadConfirmRequest(t).map(function(e){return e})},e.prototype.getSecureMessageRead=function(e){var r=new d,t=r.createSecureMessageReadRequest();return t.getPayload().getDataEntity()[0].header.id.ID=e.correspondanceId,t.getPayload().setOperation("UPD"),t.uiidomain.uiidId="ON21",r.sendSecureMessageReadRequest(t).map(function(e){return e})},e}()},LpBL:function(e,r,t){"use strict";t.d(r,"a",function(){return s});var s=function(){this.recieverId="",this.selected=!1,this.previewSelect=!1,this.readStatus=!1,this.unAssignedMsg=!1,this.purpose="",this.userType=""}},cLEV:function(e,r,t){"use strict";var s=t("LpBL"),a=t("Q87f"),i=t("amfQ"),o=function(){this.unAssignedMsg=!1,this.isDuplicateMsg=!1},n=t("aR35");t.d(r,"a",function(){return u});var u=function(){function e(){this.serviceHandler=new i.a,this.appConfig=n.a.getInstance().getMasterConfig(),this.uiAttributes=this.appConfig.PRESENTATION.MODULE.REPORTS.PAGE.COMPONENT.USAGE_REPORT_COMPONENT.UI_ATTRIBUTES}return e.prototype.mapSecureMessageListData=function(e,r,t,i){for(var o=new function(){this.secureMessageList=[],this.senderUserIds=[],this.receiverUserIds=[],this.senderCustUserIds=[],this.receiverCustUserIds=[]},n=0;n<e.length;n++){var u=new s.a;r&&("inbox"==t&&e[n].header&&e[n].header.to&&e[n].header.to[0]&&e[n].header.to[0].user&&e[n].header.to[0].user.customerHostMap&&e[n].header.to[0].user.customerHostMap[1]||"outbox"==t&&e[n].header&&e[n].header.from.user&&e[n].header.from.user.customerHostMap&&e[n].header.from.user.customerHostMap[1])||(e[n].header.from&&e[n].header.from.user&&e[n].header.from.user.name?(u.sender=e[n].header.from.user.name.fullName,u.senderID=e[n].header.from.user.identifier.ID,u.senderCIF=e[n].header.from.user.verificationidentifier.name,u.recieveStatus=!0,u.userType="admin"):e[n].header.from&&e[n].header.from.user&&(e[n].header.from.user.customerHostMap&&(u.sender=e[n].header.from.user.customerHostMap[1]?e[n].header.from.user.customerHostMap[1]&&e[n].header.from.user.customerHostMap[1].nameList&&e[n].header.from.user.customerHostMap[1].nameList[0]&&e[n].header.from.user.customerHostMap[1].nameList[0].fullName?e[n].header.from.user.customerHostMap[1].nameList[0].fullName:e[n].header.from.user.customerHostMap[1].nameList[0].givenNameList&&e[n].header.from.user.customerHostMap[1].nameList[0].givenNameList[0]&&e[n].header.from.user.customerHostMap[1].nameList[0].familyNameList&&e[n].header.from.user.customerHostMap[1].nameList[0].familyNameList[0]?e[n].header.from.user.customerHostMap[1].nameList[0].givenNameList[0]+" "+e[n].header.from.user.customerHostMap[1].nameList[0].familyNameList[0]:"":e[n].header.from.user.customerHostMap.COREBANKINGSYSTEM&&e[n].header.from.user.customerHostMap.COREBANKINGSYSTEM.nameList&&e[n].header.from.user.customerHostMap.COREBANKINGSYSTEM.nameList[0]&&e[n].header.from.user.customerHostMap.COREBANKINGSYSTEM.nameList[0].fullName?e[n].header.from.user.customerHostMap.COREBANKINGSYSTEM.nameList[0].fullName:""),u.senderCIF=e[n].header.from.user.verificationidentifier.name,u.senderID=e[n].header.from.user.identifier.ID,u.recieveStatus=!1,u.userType="customer"),e[n].header.to[0].user?(e[n].header.to[0].user.customerHostMap?u.reciever=e[n].header.to[0].user.customerHostMap[1]?e[n].header.to[0].user.customerHostMap[1]&&e[n].header.to[0].user.customerHostMap[1].nameList&&e[n].header.to[0].user.customerHostMap[1].nameList[0]&&e[n].header.to[0].user.customerHostMap[1].nameList[0].fullName?e[n].header.to[0].user.customerHostMap[1].nameList[0].fullName:e[n].header.to[0].user.customerHostMap[1].nameList[0].givenNameList[0]+" "+e[n].header.to[0].user.customerHostMap[1].nameList[0].familyNameList[0]:e[n].header.to[0].user.customerHostMap.COREBANKINGSYSTEM&&e[n].header.to[0].user.customerHostMap.COREBANKINGSYSTEM.nameList&&e[n].header.to[0].user.customerHostMap.COREBANKINGSYSTEM.nameList[0]&&e[n].header.to[0].user.customerHostMap.COREBANKINGSYSTEM.nameList[0].fullName?e[n].header.to[0].user.customerHostMap.COREBANKINGSYSTEM.nameList[0].fullName:"":e[n].header.to[0].user.name&&e[n].header.to[0].user.name.fullName&&(u.reciever=e[n].header.to[0].user.name.fullName),u.recieverCIF=e[n].header.to[0].user.verificationidentifier.name,u.recieverId=e[n].header.to[0]&&e[n].header.to[0].user&&e[n].header.to[0].user.identifier&&e[n].header.to[0].user.identifier.ID?e[n].header.to[0].user.identifier.ID:""):e[n].header.to[0].userGroup&&(u.reciever="Unassigned",u.unAssignedMsg=!0),u.messageId=e[n].header.id.ID,u.subject=e[n].header.subject.text,u.purpose=e[n].header.subject.topic&&e[n].header.subject.topic.text?e[n].header.subject.topic.text:"",u.date=this.uiAttributes.special_date_format?e[n].header.createdOn.month+"/"+e[n].header.createdOn.day+"/"+e[n].header.createdOn.year:e[n].header.createdOn.day+"/"+e[n].header.createdOn.month+"/"+e[n].header.createdOn.year,u.time=("0"+e[n].header.createdOn.hour).slice(-2)+":"+("0"+e[n].header.createdOn.minute).slice(-2),u.conversationId=e[n].header.conversationId.ID,u.correspondanceId=e[n].header.id.ID,u.text=e[n].body&&e[n].body[0]&&e[n].body[0].content?e[n].body[0].content.text:"",u.messageStatus=e[n].header&&e[n].header.status?e[n].header.status.Description:"",u.readStatus=!e[n].header||!e[n].header.status||e[n].header.status.Code!==a.DigiCorrespondenceStatus.ENUM.NEW.Code,o.secureMessageList.push(u),o.senderUserIds.push(u.senderID),o.receiverUserIds.push(u.recieverId),(u.userType="customer")&&(o.senderCustUserIds.push(u.senderID),o.receiverCustUserIds.push(u.recieverId)))}return i&&(o.recordControl=i),o},e.prototype.mapSecureMessageDetailMapping=function(e){for(var r=[],t=0;t<e.length;t++){var s=new o;e[t].header.from&&e[t].header.from.user&&e[t].header.from.user.name?(s.sender=e[t].header.from.user.name.fullName,s.senderID=e[t].header.from.user.identifier.ID,s.senderCIF=e[t].header.from.user.verificationidentifier.name,s.recieveStatus=!0):e[t].header.from.user.customerHostMap&&(s.sender=e[t].header.from.user.customerHostMap[1]&&e[t].header.from.user.customerHostMap[1].nameList&&e[t].header.from.user.customerHostMap[1].nameList[0]&&e[t].header.from.user.customerHostMap[1].nameList[0].fullName?e[t].header.from.user.customerHostMap[1].nameList[0].fullName:e[t].header.from.user.customerHostMap[1].nameList[0].givenNameList&&e[t].header.from.user.customerHostMap[1].nameList[0].givenNameList[0]&&e[t].header.from.user.customerHostMap[1].nameList[0].familyNameList&&e[t].header.from.user.customerHostMap[1].nameList[0].familyNameList[0]?e[t].header.from.user.customerHostMap[1].nameList[0].givenNameList[0]+" "+e[t].header.from.user.customerHostMap[1].nameList[0].familyNameList[0]:"",s.senderID=e[t].header.from.user.identifier.ID,s.senderCIF=e[t].header.from.user.verificationidentifier.name,s.recieveStatus=!1,s.userType="sender"),e[t].header.to[0].user?e[t].header.to[0].user.name&&e[t].header.to[0].user.verificationidentifier?(s.reciever=e[t].header.to[0].user.name?e[t].header.to[0].user.name.fullName:"",s.recieverID=e[t].header.to[0].user.verificationidentifier.userIdentifier.ID,s.recieverCIF=e[t].header.to[0].user.verificationidentifier.name):e[t].header.to[0].user.customerHostMap&&(s.reciever=e[t].header.to[0].user.customerHostMap[1]&&e[t].header.to[0].user.customerHostMap[1].nameList&&e[t].header.to[0].user.customerHostMap[1].nameList[0]&&e[t].header.to[0].user.customerHostMap[1].nameList[0].fullName?e[t].header.to[0].user.customerHostMap[1].nameList[0].fullName:e[t].header.to[0].user.customerHostMap[1].nameList[0].givenNameList[0]+" "+e[t].header.to[0].user.customerHostMap[1].nameList[0].familyNameList[0],s.recieverID=e[t].header.to[0].user.verificationidentifier.userIdentifier.ID,s.recieverID=e[t].header.to[0].user.verificationidentifier.userIdentifier.ID,s.recieverCIF=e[t].header.to[0].user.verificationidentifier.name,s.userType="reciever"):e[t].header.to[0].userGroup&&(s.reciever=e[t].header.to[0].userGroup.name,s.unAssignedMsg=!0),s.messageId=e[t].header.id.ID,s.messageBodyId=e[t].body[0].id.ID,s.date=this.uiAttributes.special_date_format?e[t].header.createdOn.month+"/"+e[t].header.createdOn.day+"/"+e[t].header.createdOn.year:e[t].header.createdOn.day+"/"+e[t].header.createdOn.month+"/"+e[t].header.createdOn.year,s.time=("0"+e[t].header.createdOn.hour).slice(-2)+":"+("0"+e[t].header.createdOn.minute).slice(-2),s.subject=e[t].header.subject.text,s.conversationId=e[t].header.conversationId.ID,s.text=e[t].body[0].content.text,s.headerStatus=e[t].header&&e[t].header.status?e[t].header.status:"",s.isDuplicateMsg=""!=s.headerStatus&&a.DigiCorrespondenceStatus.ENUM.ASSIGNED.Code==s.headerStatus.Code,r.push(s)}return r},e}()}}]);